
# 쿠버네티스 Kubernetes

### ✔ 요약
> 쿠버네티스는 컨테이너를 쉽고 빠르게 배포/확장하고 관리를 자동화해주는 오픈소스 플랫폼이다.   
> 흔히 케이(에이)츠`k8s` 또는 큐브`kube`라고 줄여서 부릅니다.  
> 도커 관리 프로그램
 

<br/>
<br/>

도커`docker`는 인프라 세계를 컨테이너`container` 세상으로 바꿔버렸습니다.  
이러한 도커의 인기와 함께 쿠버네티스`kubernetes`의 인기도 엄청나게 치솟고 있습니다.   
쿠버네티스는 다른 컨테이너 오케스트레이션 도구보다 _비교적 늦게 등장했습니다._  

컨테이너 오케스트레이션이 하는 일은 여러 개의 서버에 컨테이너를 배포하고 운영하면서 서비스 디스커버리`Service discovery`같은 
기능을 이용하여 **서비스 간 연결을 쉽게 해주는 것**입니다.   

서버마다 `app01`, `db01`, `cache01` 같은 이름을 지어주고 하나하나 접속하여 관리하는 것이 아니라 `server1, 2, 3, 4..`를 
**하나로 묶어 적당한 서버를 _자동으로 선택_ 해 애플리케이션을 배포**하고 부하가 생기면 컨테이너를 늘리고 일부 **서버에 장애가 
발생하면 정상 동작 중인 서버에 다시 띄워 장애를 방지**합니다.   

어떤 칼럼에서는 더는 운영체제가 무엇인지 중요하지 않다며 쿠버네티스가 새로운 운영체제처럼 쓰일 것이라고 얘기했습니다.  
OS에 접속해서 프로그램을 한 땀 한 땀 설치하는 것이 아니라 쿠버네티스에 컨테이너를 배포하고 네트워크와 
스토리지 설정을 하면 되는 거죠. (_클라우드계의 리눅스_)

## 쿠버네티스(Kubernetes)
* 컨테이너를 **쉽고 빠르게 배포/확장하고 관리를 자동화해주는 오픈소스 플랫폼**
* 단순한 컨테이너 플랫폼이 아닌 마이크로서비스, 클라우드 플랫폼을 지향하고 컨테이너로 이루어진 것들을 손쉽게 담고 관리할 수 있는 그릇 역할을 합니다. 
* 서버리스, CI/CD, 머신러닝 등 다양한 기능이 쿠버네티스 플랫폼 위에서 동작합니다.

### 쿠버네티스 특징
* 거대한 커뮤니티와 생태계
  * 전 세계적 스케일의 경험과 기술이 고스란히 녹아들어 있습니다. (Google + 여러 좋은 회사들..)
* 클라우드 네이티브 애플리케이션이 쿠버네티스와 찰떡궁합
  * 서비스메시(Istio, linkerd), CI(Tekton, Spinnaker), 컨테이너 서버리스(Knative), 머신러닝(kubeflow)이 모두 쿠버네티스 환경에서 돌아갑니다.
1. 다양한 배포 방식
   * 쿠버네티스는 `Deployment`, `StatefulSets`, `DaemonSet`, `Job`, `CronJob`등 다양한 배포 방식을 지원합니다.
2. Ingress 설정
   * 다양한 웹 애플리케이션을 하나의 로드 밸런서로 서비스하기 위해 Ingress 기능을 제공합니다.
   * 외부에서 직접 접근할 수 없도록 애플리케이션을 내부망에 설치하고 **외부에서 접근이 가능한 `ALB`나 `Nginx`, `Apache`를 프록시 서버로 활용**합니다.
   * 하나의 클러스터에 여러 개의 Ingress 설정을 할 수 있어 관리자 접속용 Ingress와 일반 접속용 Ingress를 따로 관리할 수 있습니다. 
3. 클라우드 지원
   * 쿠버네티스는 부하에 따라 자동으로 서버를 늘리는 기능`AutoScaling`이 있고 IP를 할당받아 로드밸런스`LoadBalancer`로 사용할 수 있습니다.
   * 쿠버네티스는 Cloud Controller를 이용하여 클라우드 연동을 손쉽게 확장할 수 있습니다.
   * 수십 개의 클라우드 업체(AWS, 구글 클라우드, 마이크로소프트 애저)에서 모듈을 제공하여 관리자는 동일한 설정 파일을 서로 다른 클라우드에서 동일하게 사용할 수 있습니다.
4. Namespace & Label
   * 하나의 클러스터에 다양한 프레임워크와 애플리케이션을 설치하기 때문에 기본(`system`, `default`)외에 여러 개의 네임스페이스를 사용하는 것이 일반적입니다.
5. RBAC (role-based access control)
   * 접근 권한 시스템입니다. 각각의 리소스에 대해 유저별로 권한을 손쉽게 지정할 수 있습니다.
6. CRD (Custom Resource Definitaion)
   * 쿠버네티스가 제공하지 않는 기능을 기본 기능과 동일한 방식으로 적용하고 사용할 수 있습니다. 
   * 예를 들어, 쿠버네티스는 기본적으로 SSL 인증서 관리 기능을 제공하지 않지만, cert-manager를 설치하고 Certificate 리소스를 이용하면 
   익숙한 쿠버네티스 명령어로 인증서를 관리할 수 있습니다. **또 다른 도구, 방식을 익힐 필요 없이 다양한 기능을 손쉽게 확장할 수 있습니다.**
7. Auto Scaling
   * CPU, memory 사용량에 따른 확장이 가능합니다. 현재 접속자 수에 따라 확장 가능합니다.
     * 컨테이너의 개수를 조정하는 Horizontal Pod Autoscaler(HPA)
     * 컨테이너의 리소스 할당량을 조정하는 Vertical Pod Autoscaler(VPA)
     * 서버 개수를 조정하는 Cluster Autosclaer(CA)
8. Federation, Multi Cluster
   * 클라우드에 설치한 쿠버네티스 클러스터와 자체 서버에 설치한 쿠버네티스를 묶어서 하나로 사용할 수 있습니다.

### 단점
* 쿠버네티스는 확실히 복잡하고 초반에 개념을 이해하기 어렵습니다. 
* YAML 설정 파일은 너무 많고 클러스터를 만드는 것도 쉽지 않습니다.


<br/><br/>

~~ ✨🤓 더 공부해보기 ..

<br/>
<br/>

[참고](https://subicura.com/2019/05/19/kubernetes-basic-1.html)